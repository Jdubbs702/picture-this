{% extends 'layout.html' %}

{% block header %}
<div class="center-up-flex-column">
    <h1 class="center-up-flex-row">{% block title %}GameRoom{% endblock %}</h1> 
</div>
{% endblock %}

{% block main %}
    <h1>Welcome to the GameRoom: {{ room.name }}</h1>
    <button class="btn btn-primary" type="button" id="load_older_sketches_btn">Load Older Sketches</button>
    <div id="sketches">
        {% for sketch in sketches %}
            <div><b>{{ sketch.created_by }}&nbsp;[{{ sketch.created_at }}]:&nbsp;</b> {{ sketch.sketch }}</div>
        {% endfor %}
    </div>

    <form id="sketch_input_form" class="center-up-flex-column">
        <input type="text" id="sketch_input" placeholder="Enter your sketch here">
        <button id="sendBtn" onclick="toggle('sendBtn', 'loadingBtn');" class="btn btn-primary" style="width:120px" type="submit">Send</button>
        <button hidden id="loadingBtn" class="btn btn-primary" style="width:120px" type="button" disabled>
            <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
            Loading...
        </button>    
    </form>

    <h3>Members</h3>
    <ul>
        {% for member in room_members %}
            <li>{{ member }}</li>
        {% endfor %}
    </ul>
    <script>
        const username = '{{username}}';
        const room = '{{room}}'
    </script>
    <script src="{{url_for('rooms.static', filename='rooms.js')}}"></script>
{% endblock %}

